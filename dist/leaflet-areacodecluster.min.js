!function(){"use strict";L.AreaCodeCluster=L.FeatureGroup.extend({options:{clusterMarkerFactory:function(e){var t=e.length,o=e.map((function(e){return e.getLatLng()})),r=o.reduce((function(e,o){return L.latLng(e.lat+o.lat/t,e.lng+o.lng/t)}),L.latLng(0,0)),n=L.latLngBounds(o),a=["area-code-cluster"];t<10?a.push("area-code-cluster-small"):t<100?a.push("area-code-cluster-medium"):a.push("area-code-cluster-large");var s=L.marker(r,{icon:L.divIcon({html:t.toString(),className:a.join(" "),iconSize:L.point(40,40)})});return n.isValid()&&(s._rectangle=L.rectangle(n),s.on("mouseover",(function(){this._map.addLayer(this._rectangle)})),s.on("mouseout remove",(function(){this._map.removeLayer(this._rectangle)}))),n.isValid()?s.on("click",(function(){var e=this._map._getBoundsCenterZoom(n).zoom,t=this._map.getZoom();e<=t?this._map.setView(this.getLatLng(),t+1):this._map.fitBounds(n)})):s.on("click",(function(){this._map.setView(this.getLatLng(),this._map.getZoom()+1)})),s},areaCodeModifier:function(e,t){return e<=1?"":e<=6?t:null}},initialize:function(e,t){var o=this;L.Util.setOptions(this,t),this._sourceCluster={},this._markersForCurrentZoom=[],e&&e.forEach((function(e){o.addMarker(e)})),L.FeatureGroup.prototype.initialize.call(this,[])},addMarker:function(e){var t=e.options.areaCode,o=this._sourceCluster[t]||(this._sourceCluster[t]=[]);-1===o.indexOf(e)&&o.push(e)},removeMarker:function(e){var t=this;Object.keys(this._sourceCluster).forEach((function(o){t._sourceCluster[o]=t._sourceCluster[o].filter((function(t){return t!==e}))}))},onAdd:function(e){this._onZoomEnd()},getEvents:function(){return{moveend:this._onMoveEnd,zoomend:this._onZoomEnd,viewreset:this._onZoomEnd,zoomlevelschange:this._onZoomEnd}},_onMoveEnd:function(){var e=this;if(this._map){var t=this._map.getBounds();this._markersForCurrentZoom.forEach((function(o){t.contains(o.getLatLng())?e.hasLayer(o)||e.addLayer(o):e.hasLayer(o)&&e.removeLayer(o)}))}},_onZoomEnd:function(){var e=this;if(this._map){var t=this._map.getZoom();this.clearLayers(),this._markersForCurrentZoom=[];var o={};Object.keys(this._sourceCluster).forEach((function(r){var n=e._sourceCluster[r],a=e.options.areaCodeModifier(t,r);if(null===a||!1===a||void 0===a)Array.prototype.push.apply(e._markersForCurrentZoom,n);else{var s=o[a]||(o[a]=[]);Array.prototype.push.apply(s,n)}})),Object.values(o).forEach((function(t){e._markersForCurrentZoom.push(e.options.clusterMarkerFactory(t))})),this._onMoveEnd()}}}),L.areaCodeCluster=function(e,t){return new L.AreaCodeCluster(e,t)}}();
